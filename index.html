<!DOCTYPE html>

<head>
    <meta charset="utf-8">

    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <link href="https://cdn.bootcss.com/twitter-bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">

    <style>
        .axis path,
        .axis line {
            stroke: #000;
            fill: none;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light justify-content-between">
        <div class="container">
            <a class="navbar-brand" href="#">Health Status Trajectory and High-risk Biomarkers Visualization</a>
            <!--<button class="btn btn-dark my-2 my-sm-0" data-toggle="modal" data-target="#optionsModal">选项</button>-->
        </div>
    </nav>
    <div class="modal fade" id="optionsModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Options</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="btn-group" role="group" aria-label="Basic example">
                        <button type="button" class="btn btn-secondary">Left</button>
                        <button type="button" class="btn btn-secondary">Middle</button>
                        <button type="button" class="btn btn-secondary">Right</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="noteModal" tabindex="-1" role="dialog" aria-labelledby="noteModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="noteModalLabel">Note (It would take 2 minutes to load the page.)</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>In order to intuitively show the implication and prediction process of MTFed, we also develop a
                        simple visualization prototype. We use PCA to reduce the dimensionality of COVID-19 patients’
                        representation of MTFed on each timestep and visualize them on a 2-dimension plane. Each
                        patient has several visits. Each visit is denoted as a point. The line with several points
                        represents the health status trajectory of a patient. The color of each point reflects the
                        predicted mortality risk of a patient at that time. Red means high risk and green means low
                        risk, or in other words, a relatively more stable status. The red point with a black circle edge
                        indicates that the patient died in one year.
                    </p>
                    <p>
                        When putting the mouse on a single point, the key features of the patient at that time will be
                        presented, which is determined by the weights generated by dynamic feature-wise attention. It
                        can tell the doctors that MTFed predicts the mortality risk mainly based on these features.
                        The results remind doctors that they should put an eye on these features and take some treatment
                        to the patient to prevent or delay the adverse outcomes.
                    </p>
                    <p>
                        When putting the mouse on the sliding bar and move slowly, doctors can observe the trajectories
                        and outcomes of patients. This will help the doctors to observe the similarity of different patients, 
                        predict their future disease progression, and extract medical knowledge.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <div class="container" style="height: 90vh">
        <div class="containerMainsvg" style=" width:100% ;height:calc(100% - 150px)">
            <svg id="mainsvg" width="100%" height="100%">
                <g id="gdata"></g>
                <g id="info" transform="translate(70,50)">
                    <text x="0" y="0" fill="black" id="textInfo1"></text>
                    <text x="0" y="20" fill="black" id="textInfo2"></text>
                    <text x="0" y="40" fill="black" id="textInfo3"></text>
                </g>
                <g id="infoPanel" transform="translate(10,10)" display="none">
                    <rect x="0" y="0" width="350" height="200" fill="white" stroke="black" stroke-opacity="0.5"
                        stroke-width="2" fill-opacity="0.9"></rect>
                    <text x="65" y="30" fill="black" id="panelInfo1" text-anchor="middle"></text>
                    <text x="175" y="30" fill="black" id="panelInfo2" text-anchor="middle"></text>
                    <text x="285" y="30" fill="black" id="panelInfo3" text-anchor="middle"></text>
                    <circle r="20" cx="65" cy="110" id="panelCircle1" fill="#aaaaaa"></circle>
                    <circle r="20" cx="175" cy="110" id="panelCircle2" fill="#aaaaaa"></circle>
                    <circle r="20" cx="285" cy="110" id="panelCircle3" fill="#aaaaaa"></circle>
                    <text x="65" y="116" fill="black" id="panelCNum1" text-anchor="middle" font-size="16"></text>
                    <text x="175" y="116" fill="black" id="panelCNum2" text-anchor="middle" font-size="16"></text>
                    <text x="285" y="116" fill="black" id="panelCNum3" text-anchor="middle" font-size="16"></text>
                    <text x="65" y="175" fill="black" id="panelCInfo1" text-anchor="middle" font-size="16"></text>
                    <text x="175" y="175" fill="black" id="panelCInfo2" text-anchor="middle" font-size="16"></text>
                    <text x="285" y="175" fill="black" id="panelCInfo3" text-anchor="middle" font-size="16"></text>
                </g>
            </svg>
        </div>
        <div class="containerMainsvg" style=" width:100% ;height:140px">
            <svg id="controlsvg" width="100%" height="100%">
                <text x="0" y="30" fill="black">Filter By Patients</text>
                <text x="0" y="90" fill="black">Filter By LOS (estimated discharge time or death time)</text>
            </svg>
        </div>
        <div class="btn-group" style="width: 100%;">
            <button class="btn btn-outline-primary" id="btnPlay" style="flex: 5 1 auto;">播放 / 暂停</button>
            <!--            <button class="btn btn-outline-secondary">翻译模板</button>-->
        </div>
    </div>
    <script src="https://cdn.bootcss.com/d3/3.5.17/d3.min.js"></script>
    <script src="js/index.js" charset="utf-8"></script>
</body>